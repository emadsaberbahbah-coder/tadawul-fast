# requirements.txt  (FULL REPLACEMENT) — Tadawul Fast Bridge
# Target runtime: Python 3.11.9  (runtime.txt)
# Goal: PROD-SAFE installs on Render with minimal resolver conflicts.
#
# Notes
# - We intentionally DO NOT hard-pin many transitive deps (starlette/httpcore/anyio/etc.)
#   because strict transitive pins are the #1 cause of Render build conflicts.
# - If you want a fully locked transitive set later, we can generate it via pip-tools
#   (requirements.in -> requirements.txt) after your app boots cleanly.

# ------------------------------------------------------------
# Core Web Framework
# ------------------------------------------------------------
fastapi==0.124.4
uvicorn[standard]==0.38.0
python-dotenv==1.2.1

# ------------------------------------------------------------
# Rate limiting
# ------------------------------------------------------------
slowapi==0.1.9
limits==5.6.0

# ------------------------------------------------------------
# Validation / Settings / Serialization / Cache
# ------------------------------------------------------------
pydantic==2.12.5
pydantic-settings==2.12.0
orjson==3.11.5
cachetools==6.2.3
typing-extensions==4.15.0

# ------------------------------------------------------------
# HTTP Clients
# ------------------------------------------------------------
httpx==0.28.1
requests==2.32.5
aiohttp==3.13.2

# ------------------------------------------------------------
# Scraping / Parsing
# ------------------------------------------------------------
beautifulsoup4==4.14.3
lxml==6.0.2
html5lib==1.1

# ------------------------------------------------------------
# Market Data (Global fallback / utilities)
# ------------------------------------------------------------
yfinance==0.2.36
pandas==2.2.3
numpy==2.4.0

# ------------------------------------------------------------
# Google Integration (Sheets Service Account)
# ------------------------------------------------------------
google-api-python-client==2.187.0
google-auth==2.45.0
google-auth-httplib2==0.2.1

# Keep these as flexible (they’re the most conflict-prone when pinned hard):
google-api-core>=2.0.0,<3.0.0
googleapis-common-protos>=1.0.0,<2.0.0
proto-plus>=1.22.0,<2.0.0
protobuf>=4.25.0,<6.0.0
httplib2>=0.22.0,<1.0.0
