# ============================================================
# Tadawul Fast Bridge â€” Dependencies (v1.8.0)
# Target: Production (Render/Linux) + Local Development
#
# RULES (pip):
# - Only package specifiers are allowed (comments start with "#")
# - Keep versions bounded for reproducible deploys
# - Prefer wheels available on Render (avoid heavy compile surprises)
# ============================================================

# ------------------------------------------------------------
# Core Web Framework & Server
# ------------------------------------------------------------
fastapi>=0.110.0,<1.0.0
uvicorn[standard]>=0.29.0,<1.0.0
python-multipart>=0.0.9,<0.1.0

# Optional multi-worker server (recommended if using workers>1)
gunicorn>=21.2.0,<23.0.0

# Performance (Linux only)
uvloop>=0.19.0,<1.0.0; sys_platform != "win32"
httptools>=0.6.1,<1.0.0; sys_platform != "win32"

# ------------------------------------------------------------
# Rate Limiting / Security Hardening
# ------------------------------------------------------------
slowapi>=0.1.9,<1.0.0
limits>=3.7.0,<4.0.0

# ------------------------------------------------------------
# Validation & Settings
# ------------------------------------------------------------
pydantic>=2.7.0,<3.0.0
pydantic-settings>=2.2.0,<3.0.0
python-dotenv>=1.0.1,<2.0.0
typing-extensions>=4.10.0,<5.0.0
email-validator>=2.1.0,<3.0.0

# ------------------------------------------------------------
# Financial Data / Analysis
# ------------------------------------------------------------
# yfinance: ensure recent version to handle Yahoo API changes
yfinance>=0.2.40,<1.0.0
pandas>=2.2.1,<3.0.0

# numpy: pinned <2.0.0 to prevent ABI conflicts with older libs
numpy>=1.26.0,<2.0.0
scipy>=1.12.0,<2.0.0

# Technical Indicators (Python 3.11 compatible fork of pandas-ta)
ft-pandas-ta>=0.3.16,<0.4.0

# ------------------------------------------------------------
# HTTP Clients & Networking
# ------------------------------------------------------------
httpx>=0.27.0,<1.0.0
requests>=2.31.0,<3.0.0
aiohttp>=3.9.3,<4.0.0
tenacity>=8.2.3,<9.0.0

# ------------------------------------------------------------
# Parsing & Scrapers (News / Alternative Data)
# ------------------------------------------------------------
beautifulsoup4>=4.12.3,<5.0.0
lxml>=5.1.0,<6.0.0
html5lib>=1.1,<2.0.0
feedparser>=6.0.11,<7.0.0

# ------------------------------------------------------------
# Google Cloud / Sheets Integration
# ------------------------------------------------------------
google-api-python-client>=2.122.0,<3.0.0
google-auth>=2.28.2,<3.0.0
google-auth-httplib2>=0.2.0,<1.0.0
google-api-core>=2.17.1,<3.0.0
google-auth-oauthlib>=1.2.0,<2.0.0

# ------------------------------------------------------------
# Utilities & Optimization
# ------------------------------------------------------------
orjson>=3.9.15,<4.0.0
cachetools>=5.3.3,<6.0.0
psutil>=5.9.8,<7.0.0
python-json-logger>=2.0.7,<3.0.0

# ------------------------------------------------------------
# Testing (optional; safe to keep, but can remove for leaner prod)
# ------------------------------------------------------------
pytest>=8.0.2,<9.0.0
