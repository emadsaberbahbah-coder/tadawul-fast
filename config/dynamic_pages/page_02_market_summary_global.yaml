title: "Market Summary (Global) â€” Extended"
region: "global"

columns:
  # ============================================================
  # A) Identity / Classification
  # ============================================================
  - name: symbol
    label: Symbol
    type: string
    required: true
    max_length: 32

  - name: company_name
    label: Company Name
    type: string
    required: false
    max_length: 200

  - name: exchange
    label: Exchange
    type: string
    required: false
    max_length: 60

  - name: mic
    label: MIC
    type: string
    required: false
    max_length: 16

  - name: country
    label: Country
    type: string
    required: false
    max_length: 80

  - name: sector
    label: Sector
    type: string
    required: false
    max_length: 120

  - name: industry
    label: Industry
    type: string
    required: false
    max_length: 160

  - name: currency
    label: Currency
    type: string
    required: false
    max_length: 8

  - name: isin
    label: ISIN
    type: string
    required: false
    max_length: 24

  - name: cusip
    label: CUSIP
    type: string
    required: false
    max_length: 16

  - name: website
    label: Website
    type: string
    required: false
    max_length: 200

  # ============================================================
  # B) Live / Snapshot (Real-Time)
  # ============================================================
  - name: last_price
    label: Last Price
    type: number
    required: false

  - name: previous_close
    label: Previous Close
    type: number
    required: false

  - name: open
    label: Open
    type: number
    required: false

  - name: day_high
    label: Day High
    type: number
    required: false

  - name: day_low
    label: Day Low
    type: number
    required: false

  - name: bid
    label: Bid
    type: number
    required: false

  - name: ask
    label: Ask
    type: number
    required: false

  - name: spread
    label: Spread
    type: number
    required: false

  - name: change
    label: Change
    type: number
    required: false

  - name: change_percent
    label: Change %
    type: number
    required: false

  - name: volume
    label: Volume
    type: number
    required: false
    ge: 0

  - name: avg_volume_10d
    label: Avg Volume (10D)
    type: number
    required: false
    ge: 0

  - name: avg_volume_30d
    label: Avg Volume (30D)
    type: number
    required: false
    ge: 0

  - name: value_traded
    label: Value Traded
    type: number
    required: false
    ge: 0

  - name: market_cap
    label: Market Cap
    type: number
    required: false
    ge: 0

  - name: enterprise_value
    label: Enterprise Value
    type: number
    required: false
    ge: 0

  - name: shares_outstanding
    label: Shares Outstanding
    type: number
    required: false
    ge: 0

  - name: float_shares
    label: Float Shares
    type: number
    required: false
    ge: 0

  # ============================================================
  # C) Range / Returns (derived from EOD history)
  # ============================================================
  - name: high_52w
    label: 52W High
    type: number
    required: false

  - name: low_52w
    label: 52W Low
    type: number
    required: false

  - name: position_52w_percent
    label: 52W Position %
    type: number
    required: false

  - name: return_1w
    label: Return 1W
    type: number
    required: false

  - name: return_1m
    label: Return 1M
    type: number
    required: false

  - name: return_3m
    label: Return 3M
    type: number
    required: false

  - name: return_6m
    label: Return 6M
    type: number
    required: false

  - name: return_1y
    label: Return 1Y
    type: number
    required: false

  - name: ytd_return
    label: YTD Return
    type: number
    required: false

  - name: volatility_30d
    label: Volatility (30D)
    type: number
    required: false
    ge: 0

  - name: volatility_90d
    label: Volatility (90D)
    type: number
    required: false
    ge: 0

  - name: max_drawdown_1y
    label: Max Drawdown (1Y)
    type: number
    required: false

  # ============================================================
  # D) Technical Indicators (derived)
  # ============================================================
  - name: beta
    label: Beta
    type: number
    required: false

  - name: rsi_14
    label: RSI (14)
    type: number
    required: false

  - name: sma_20
    label: SMA 20
    type: number
    required: false

  - name: sma_50
    label: SMA 50
    type: number
    required: false

  - name: sma_200
    label: SMA 200
    type: number
    required: false

  # ============================================================
  # E) Fundamentals / Valuation (from Fundamentals)
  # ============================================================
  - name: eps_ttm
    label: EPS (TTM)
    type: number
    required: false

  - name: eps_forward
    label: Forward EPS
    type: number
    required: false

  - name: pe_ttm
    label: P/E (TTM)
    type: number
    required: false

  - name: pe_forward
    label: Forward P/E
    type: number
    required: false

  - name: peg
    label: PEG
    type: number
    required: false

  - name: pb
    label: P/B
    type: number
    required: false

  - name: ps
    label: P/S
    type: number
    required: false

  - name: ev_ebitda
    label: EV/EBITDA
    type: number
    required: false

  - name: revenue_ttm
    label: Revenue (TTM)
    type: number
    required: false

  - name: revenue_growth_yoy
    label: Revenue Growth YoY
    type: number
    required: false

  - name: gross_margin
    label: Gross Margin
    type: number
    required: false

  - name: operating_margin
    label: Operating Margin
    type: number
    required: false

  - name: net_margin
    label: Net Margin
    type: number
    required: false

  - name: roe
    label: ROE
    type: number
    required: false

  - name: roa
    label: ROA
    type: number
    required: false

  - name: debt_to_equity
    label: Debt/Equity
    type: number
    required: false
    ge: 0

  - name: current_ratio
    label: Current Ratio
    type: number
    required: false
    ge: 0

  - name: quick_ratio
    label: Quick Ratio
    type: number
    required: false
    ge: 0

  # ============================================================
  # F) Dividends / Events / Expectations
  # ============================================================
  - name: dividend_yield
    label: Dividend Yield
    type: number
    required: false
    ge: 0

  - name: dividend_rate
    label: Dividend Rate
    type: number
    required: false
    ge: 0

  - name: payout_ratio
    label: Payout Ratio
    type: number
    required: false

  - name: ex_dividend_date
    label: Ex-Dividend Date
    type: string
    required: false
    max_length: 32

  - name: next_earnings_date
    label: Next Earnings Date
    type: string
    required: false
    max_length: 32

  - name: analyst_target_price
    label: Analyst Target Price
    type: number
    required: false

  - name: upside_to_target_percent
    label: Upside to Target %
    type: number
    required: false

  # ============================================================
  # G) Opportunity / Recommendation (Phase-2 engine)
  # ============================================================
  - name: expected_roi_30d
    label: Expected ROI (30D)
    type: number
    required: false

  - name: expected_roi_90d
    label: Expected ROI (90D)
    type: number
    required: false

  - name: expected_roi_365d
    label: Expected ROI (365D)
    type: number
    required: false

  - name: value_score
    label: Value Score
    type: number
    required: false

  - name: quality_score
    label: Quality Score
    type: number
    required: false

  - name: momentum_score
    label: Momentum Score
    type: number
    required: false

  - name: risk_score
    label: Risk Score
    type: number
    required: false

  - name: opportunity_score
    label: Opportunity Score
    type: number
    required: false

  - name: recommendation
    label: Recommendation
    type: string
    required: false
    max_length: 32

  - name: rationale
    label: Rationale
    type: string
    required: false
    max_length: 400

  # ============================================================
  # H) Provenance
  # ============================================================
  - name: last_updated
    label: Last Updated
    type: datetime
    required: false

  - name: data_source
    label: Data Source
    type: string
    required: false
    max_length: 40

  - name: data_quality
    label: Data Quality
    type: string
    required: false
    max_length: 40
