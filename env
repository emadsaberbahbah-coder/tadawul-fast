# =============================================================================
# Stock Market Hub Sheet API - Environment Configuration
# =============================================================================

# --- Application Runtime Configuration ---
TZ=Asia/Riyadh
ENVIRONMENT=production
SERVICE_NAME=Stock Market Hub Sheet API
SERVICE_VERSION=2.0.0
APP_HOST=0.0.0.0
APP_PORT=8101
TRADING_INTERVAL_MINUTES=5

# --- Data Provider Configuration ---
DATA_PROVIDER=MULTI_SOURCE  # Use all available data sources
# DATA_PROVIDER=YF
# DATA_PROVIDER=MOCK
# DATA_PROVIDER=ARGAAM

# --- Yahoo Finance API Settings ---
YF_TIMEOUT=20
YF_MAX_RETRIES=3
YF_PERIOD=3mo
YF_INTERVAL=1d
YF_USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.36

# --- Argaam Integration Settings ---
ARGAAM_TIMEOUT=30
ARGAAM_MAX_RETRIES=3
ARGAAM_CACHE_TTL=600
ARGAAM_USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.36

# --- Authentication & Security ---
FASTAPI_TOKEN=c0487616ceaeaa47122cabb7b3e66a09
APP_TOKEN=c0487616ceaeaa47122cabb7b3e66a09
REQUIRE_AUTH=true
ALLOWED_ORIGINS=*

# --- Financial Data API Keys ---
# Alpha Vantage
ALPHA_VANTAGE_API_KEY=Q0VIE9J6AXUCG99F

# Finnhub
FINNHUB_API_KEY=d3uhd8pr01qil4aq3i5gd3uhd8pr01qil4aq3i60

# EOD Historical Data
EODHD_API_KEY=68fd1783ee7eb1.12039806

# Twelve Data
TWELVEDATA_API_KEY=ca363b090fbb421a84c05882e4f1e393

# MarketStack
MARKETSTACK_API_KEY=657b972a96392c3cac405ccc48c36b0c

# Financial Modeling Prep
FMP_API_KEY=3weEgekBXByxCzDGIbXgQ0hgWGZfVKyt

# Google Apps Script Integration
GOOGLE_APPS_SCRIPT_URL=https://script.google.com/macros/s/AKfycbwnIX0hIaffDJVnHZUxej4zoLPQZgpdMMpkA9YP1xPQVxqwvEAXuIHWcF7qBIVsntnLkg/exec
GOOGLE_APPS_SCRIPT_BACKUP_URL=https://script.google.com/macros/s/AKfycbyI7a_xj7zvCa10CnzJP9wf8N1qPG3DYYb-LVkUCOEVEHjALzZq_Ox9YUJgbkzq86py6g/exec

# --- Google Sheets Configuration ---
SHEETS_SPREADSHEET_ID=19oloY3fehdFnSRMysqd-EZ2l7FL-GRAd8GJhYUt8tmw
GOOGLE_SHEETS_ID=19oloY3fehdFnSRMysqd-EZ2l7FL-GRAd8GJhYUt8tmw

# Tab/Worksheet Names
SHEETS_SYMBOLS_TAB=Market_Leaders
SHEETS_TAB_SYMBOLS=Market_Leaders
SHEETS_DASHBOARD_TAB=Dashboard
SHEETS_ANALYSIS_TAB=AI_Analysis

# Header Configuration
SHEETS_HEADER_ROW=3
SHEETS_DATA_START_ROW=4

# --- Google Service Account Credentials ---
# Render Deployment Path (Linux)
SHEETS_JSON_CREDENTIALS_PATH=./creds/google-service.json
GOOGLE_CREDENTIALS_FILE=./creds/google-service.json

# Alternative Windows Path (commented)
# SHEETS_JSON_CREDENTIALS_PATH=C:\Users\emadb\OneDrive\Desktop\saudi_trading_system\creds\google-service.json
# GOOGLE_CREDENTIALS_FILE=C:\Users\emadb\OneDrive\Desktop\saudi_trading_system\creds\google-service.json

# --- Cache & Performance Settings ---
CACHE_PATH=./quote_cache.json
CACHE_BACKUP_DIR=./cache_backups
CACHE_AUTO_SAVE=true
CACHE_BACKUP_RETENTION_DAYS=7

# Request Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_MAX_SYMBOLS_PER_REQUEST=50
RATE_LIMIT_API_CALLS_PER_MINUTE=200

# --- Logging Configuration ---
LOG_LEVEL=INFO
LOG_FILE=./logs/application.log
LOG_MAX_SIZE_MB=10
LOG_BACKUP_COUNT=5

# --- API Endpoint Configuration ---
FASTAPI_BASE=https://tadawul-fast-1.onrender.com
API_PREFIX=/v1
ENABLE_SWAGGER=true
ENABLE_REDOC=true

# --- Feature Flags ---
ENABLE_ARGAAM_INTEGRATION=true
ENABLE_GOOGLE_SHEETS=true
ENABLE_AI_ANALYSIS=true
ENABLE_MARKET_DASHBOARD=true
ENABLE_SYMBOLS_READER=true
ENABLE_MULTI_SOURCE_DATA=true
ENABLE_GOOGLE_APPS_SCRIPT=true

# --- Market Data Settings ---
DEFAULT_MARKET=SAUDI
DEFAULT_CURRENCY=SAR
MARKET_OPEN_TIME=10:00
MARKET_CLOSE_TIME=15:00
MARKET_TIMEZONE=Asia/Riyadh

# --- AI Analysis Configuration ---
AI_MODEL_NAME=gpt-3.5-turbo
AI_MAX_TOKENS=1000
AI_TEMPERATURE=0.7
AI_ANALYSIS_TIMEOUT=30

# --- External API Configuration ---
ALPHA_VANTAGE_TIMEOUT=15
FINNHUB_TIMEOUT=15
TWELVEDATA_TIMEOUT=15
MARKETSTACK_TIMEOUT=15
FMP_TIMEOUT=15

# --- Multi-Source Data Fusion ---
DATA_SOURCE_PRIORITY=ALPHA_VANTAGE,FINNHUB,TWELVEDATA,MARKETSTACK,YF,ARGAAM
PRICE_CONSENSUS_THRESHOLD=0.8
MIN_DATA_SOURCES=2

# --- Monitoring & Health Checks ---
HEALTH_CHECK_INTERVAL=300
METRICS_ENABLED=true
ALERT_EMAIL=admin@example.com
API_STATUS_CHECK_INTERVAL=3600

# --- Backup & Recovery ---
AUTO_BACKUP_ENABLED=true
AUTO_BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=30

# --- Deployment URLs ---
RENDER_DEPLOYMENT_URL=https://tadawul-fast-1.onrender.com
BACKUP_DEPLOYMENT_URL=https://tadawul-fastap.onrender.com

# --- Security & Rate Limits ---
MAX_REQUEST_SIZE_MB=10
ENABLE_RATE_LIMITING=true
TRUSTED_PROXIES=*

# =============================================================================
# Development Settings (Override above in development)
# =============================================================================
# ENVIRONMENT=development
# LOG_LEVEL=DEBUG
# ENABLE_SWAGGER=true
# ENABLE_REDOC=true
# CACHE_AUTO_SAVE=false
# REQUIRE_AUTH=false
# DATA_PROVIDER=MOCK
